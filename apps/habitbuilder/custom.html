<html>
  <head>
    <link rel="stylesheet" href="../../css/spectre.min.css">
  </head>
  <body>
    Choose up to 5 yes/no questions to ask yourself each day. You will be able 
    to change these later in the App Loader.
    <br><br>
    <p>Question 1 <input type="text" id="question1" class="form-input question" value="" placeholder="Ex. Did you exercise today?"></p>
    <p>Question 2 <input type="text" id="question2" class="form-input question" value=""></p>
    <p>Question 3 <input type="text" id="question3" class="form-input question" value=""></p>
    <p>Question 4 <input type="text" id="question4" class="form-input question" value=""></p>
    <p>Question 5 <input type="text" id="question5" class="form-input question" value=""></p>
    <p><button id="upload" class="btn btn-primary">Upload</button></p>

    <script src="../../core/lib/customize.js"></script>

    <script>
      // When the 'upload' button is clicked...
      document.getElementById("upload").addEventListener("click", function() {
        const questions = [];

        const questionInputs = Array.from(document.getElementsByClassName("question"));
        questionInputs.forEach(input => {
          if (input.value) {
            questions.push(input.value);
          }
        });

        if (questions.length === 0) {
          alert("Please enter at least one question.");
          return;
        }

        console.log(questions);

        sendCustomizedApp({
          storage:[
            {name:"habitbuilder.settings.json", content:JSON.stringify(questions)},
          ]
        });
      });

    </script>
  </body>
</html>
